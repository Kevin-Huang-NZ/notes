<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Professional JavaScript for Web Developers</title>
    <script>
        var blocked = false;
        try {
            var newWindow = window.open("http://www.google.co.nz", "Google",
                "height=400,width=400,top=10,left=10,resizable=yes,fullscreen=no,location=no,menubar=no,status=no,toolbar=no,scrollbars=yes");
            if (newWindow == null) {
                blocked = true;
            }
            newWindow.resizeTo(600, 600);
            newWindow.moveTo(100, 100);
            //newWindow.close();
            //console.log();

            var timeoutId = setTimeout(function() {
                console.log(typeof newWindow);
                newWindow.close();
            }, 10000);

            var intervalId = setInterval(function() {
                console.log("Waiting for closing.....");
            }, 1000);
            //clearTimeout(timeoutId);
            setTimeout(function() {
                if (newWindow.closed) {
                    clearInterval(intervalId);
                    console.log("Closed");
                }
            }, 10000);
        } catch (ex) {
            console.log(ex);
            blocked = true;
        }

        if (blocked) {
            console.log("The popup was blocked.");
        }

        var yourName = prompt("What's your name?", "");
        if (yourName == null) {
            var result = confirm("Are you sure?");
            if (result) {
                console.log("Yes, I am sure.");
            } else {
                console.log("No, I am not.");
            }
        } else {
            alert("Hello " + yourName + ".");
        }
    </script>
</head>

<body>

</body>

</html>