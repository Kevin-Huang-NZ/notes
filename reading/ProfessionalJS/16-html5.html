<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Professional JavaScript for Web Developers</title>
    <script>
        // HTML5扩展的dom方法
        window.onload = function() {
            // 1、操作css类的方法
            var divClass1 = document.getElementsByClassName("divClass1");
            console.log(divClass1.length);
            for (var i = 0, len = divClass1.length; i < len; i++) {
                var divItem = divClass1.item(i);
                console.log(divItem);
                console.log(divItem.getElementsByClassName("liClass1").length);
            }


            // 2、classList属性
            console.log("----------------------------------华丽的分割线-classList-------------------------------------------");
            var div = document.getElementById("firstDiv");
            var classList = div.classList;
            for (var i = 0, len = classList.length; i < len; i++) {
                console.log(classList.item(i));
            }

            div.classList.remove("divClass1");
            var classList = div.classList;
            for (var i = 0, len = classList.length; i < len; i++) {
                console.log(classList.item(i));
            }
            var firstLi = div.getElementsByClassName("liClass1").item(0);
            firstLi.classList.toggle("current");
            var classList = firstLi.classList;
            for (var i = 0, len = classList.length; i < len; i++) {
                console.log(classList.item(i));
            }

            // 3、focus
            console.log("----------------------------------华丽的分割线-activeElement--hasFocus-----------------------------------------");
            var button1 = document.getElementById("button1");
            button1.focus();
            console.log(document.activeElement == button1);
            console.log(document.hasFocus());

            // 4、HTMLDocument的变化
            console.log("------------------------华丽的分割线-readyState--compatMode--head--charset--------------------------");
            console.log(document.readyState);
            console.log(document.compatMode);
            console.log(document.head || document.getElementsByTagName("head")[0]);
            console.log(document.charset);
            console.log(document.defaultCharset);

            // 5、自定义属性
            console.log("------------------------华丽的分割线-dataset--------------------------");
            var firstDiv = document.getElementById("firstDiv");
            console.log(firstDiv.dataset);
            firstDiv.dataset.myname = "Sophie";
            console.log(firstDiv.dataset);

            // 6、专有扩展
            console.log("------------------------华丽的分割线---------------------------");
            console.log(document.documentMode);
            var firstDiv = document.getElementById("firstDiv");
            console.log(firstDiv.children);
            var firstLi = firstDiv.getElementsByClassName("liClass1").item(0);
            console.log(firstDiv.contains(firstLi));
            console.log(firstDiv.compareDocumentPosition(firstLi));
        };
        console.log(document.readyState);
    </script>
</head>

<body>
    <div id="firstDiv" class="divClass1 divClass2" data-myname="Kevin">
        <ul>
            <li class="liClass1 current"></li>
            <li class="liClass1"></li>
            <li class="liClass1"></li>
        </ul>
    </div>
    <input type="button" id="button1" name="button1" value="BTN" />
</body>

</html>